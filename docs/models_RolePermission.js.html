<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: models/RolePermission.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: models/RolePermission.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// models/RolePermission.js
const { getFirestore } = require('../firebaseAdmin');
const { logger } = require('../logger');
const LocalStorageService = require('../services/LocalStorageService');
const FirestoreService = require('../utils/firestoreService');
const dbServiceRolePermission = LocalStorageService.collection('role_permissions');
const Role = require('./Role');
const Permission = require('./Permission');

// Importar dados iniciais
const { rolePermissions: initialRolePermissions } = require('../config/data/initialData');

class RolePermission {
  constructor(data) {
    this.id = data.id;
    this.roleId = data.roleId;
    this.permissionId = data.permissionId;
    this.createdAt = data.createdAt || new Date();
  }

  toPlainObject() {
    return {
      id: this.id,
      roleId: this.roleId,
      permissionId: this.permissionId,
      createdAt: this.createdAt
    };
  }

  /**
   * Obtém todas as associações role-permission para uma role específica
   * @param {string} roleId - ID da role
   * @returns {Promise&lt;Array&lt;RolePermission>>} - Lista de associações
   */
  static async getByRoleId(roleId) {
    try {
      // Buscar associações no armazenamento local
      const query = dbServiceRolePermission.where('roleId', '==', roleId);
      
      // Carregar dados diretamente
      const allData = await dbServiceRolePermission._loadData() || {};
      
      // Filtrar manualmente os dados por roleId
      const filteredData = Object.entries(allData)
        .filter(([_id, data]) => data.roleId === roleId)
        .map(([id, data]) => new RolePermission({
          id,
          ...data
        }));
      
      // Adicionar associações dos dados iniciais
      const initialRolePerms = [];
      
      for (const [id, rolePerm] of Object.entries(initialRolePermissions)) {
        if (rolePerm.roleId === roleId) {
          // Verificar se já está na lista filtrada do banco
          const exists = filteredData.some(
            dbPerm => dbPerm.permissionId === rolePerm.permissionId
          );
          
          if (!exists) {
            initialRolePerms.push(new RolePermission({
              id,
              ...rolePerm
            }));
          }
        }
      }
      
      // Combinar resultados
      const allRolePermissions = [...filteredData, ...initialRolePerms];
  
      logger.info('RolePermissions obtidas com sucesso por roleId', { 
        service: 'rolePermissionModel', 
        function: 'getByRoleId', 
        roleId,
        count: allRolePermissions.length,
        dbCount: filteredData.length,
        initialCount: initialRolePerms.length
      });
      
      return allRolePermissions;
    } catch (error) {
      logger.error('Erro ao buscar role permissions por roleId', { 
        service: 'rolePermissionModel', 
        function: 'getByRoleId', 
        roleId,
        error: error.message 
      });
      throw error;
    }
  }

  /**
   * Obtém todas as associações role-permission para uma permissão específica
   * @param {string} permissionId - ID da permissão
   * @returns {Promise&lt;Array&lt;RolePermission>>} - Lista de associações
   */
  static async getByPermissionId(permissionId) {
    try {
      // Buscar associações no banco de dados
      const rolePermissionsCollection = await dbServiceRolePermission
        .where('permissionId', '==', permissionId)
        .get();
      
      const dbRolePermissions = rolePermissionsCollection.docs.map(doc => {
        const rolePermissionData = doc.data();
        rolePermissionData.id = doc.id;
        return new RolePermission(rolePermissionData);
      });
      
      // Adicionar associações dos dados iniciais
      const initialRolePerms = [];
      
      for (const [id, rolePerm] of Object.entries(initialRolePermissions)) {
        if (rolePerm.permissionId === permissionId) {
          // Verificar se já está na lista do banco
          const exists = dbRolePermissions.some(
            dbPerm => dbPerm.roleId === rolePerm.roleId
          );
          
          if (!exists) {
            initialRolePerms.push(new RolePermission({
              id,
              ...rolePerm
            }));
          }
        }
      }
      
      // Combinar resultados
      const allRolePermissions = [...dbRolePermissions, ...initialRolePerms];

      logger.info('RolePermissions obtidas com sucesso por permissionId', { 
        service: 'rolePermissionModel', 
        function: 'getByPermissionId', 
        permissionId,
        count: allRolePermissions.length,
        dbCount: dbRolePermissions.length,
        initialCount: initialRolePerms.length
      });
      
      return allRolePermissions;
    } catch (error) {
      logger.error('Erro ao buscar role permissions por permissionId', { 
        service: 'rolePermissionModel', 
        function: 'getByPermissionId', 
        permissionId,
        error: error.message 
      });
      throw error;
    }
  }

  /**
   * Atribui uma permissão a uma role
   * @param {string} roleId - ID da role
   * @param {string} permissionId - ID da permissão
   * @returns {Promise&lt;RolePermission>} - Associação criada ou existente
   */
  static async assignPermissionToRole(roleId, permissionId) {
    try {
      // Verificar se a role existe
      await Role.getById(roleId);
      
      // Verificar se a permissão existe
      await Permission.getById(permissionId);
      
      // Verificar se a associação já existe nas permissões iniciais
      const existsInInitial = Object.values(initialRolePermissions).some(
        rp => rp.roleId === roleId &amp;&amp; rp.permissionId === permissionId
      );
      
      if (existsInInitial) {
        logger.info('Associação já existe nos dados iniciais', {
          service: 'rolePermissionModel',
          function: 'assignPermissionToRole',
          roleId,
          permissionId
        });
        
        // Encontrar a associação nos dados iniciais
        const [id, data] = Object.entries(initialRolePermissions).find(
          ([_, rp]) => rp.roleId === roleId &amp;&amp; rp.permissionId === permissionId
        );
        
        return new RolePermission({ id, ...data });
      }
      
      // Verificar se a associação já existe no banco
      const existingAssociations = await dbServiceRolePermission
        .where('roleId', '==', roleId)
        .where('permissionId', '==', permissionId)
        .get();
      
      if (!existingAssociations.empty) {
        logger.warn('Permissão já atribuída à role no banco', { 
          service: 'rolePermissionModel', 
          function: 'assignPermissionToRole', 
          roleId,
          permissionId
        });
        // Retornar a associação existente
        const existingData = existingAssociations.docs[0].data();
        existingData.id = existingAssociations.docs[0].id;
        return new RolePermission(existingData);
      }
      
      // Criar nova associação
      const rolePermission = new RolePermission({
        roleId,
        permissionId,
        createdAt: new Date()
      });
      
      const docRef = await dbServiceRolePermission.add(rolePermission.toPlainObject());
      rolePermission.id = docRef.id;
      
      logger.info('Permissão atribuída à role com sucesso', { 
        service: 'rolePermissionModel', 
        function: 'assignPermissionToRole', 
        roleId,
        permissionId,
        rolePermissionId: rolePermission.id
      });
      
      return rolePermission;
    } catch (error) {
      logger.error('Erro ao atribuir permissão à role', { 
        service: 'rolePermissionModel', 
        function: 'assignPermissionToRole', 
        roleId,
        permissionId,
        error: error.message 
      });
      throw error;
    }
  }

  /**
   * Remove uma associação entre role e permissão
   * @param {string} roleId - ID da role
   * @param {string} permissionId - ID da permissão
   * @returns {Promise&lt;boolean>} - Sucesso da operação
   */
  static async removePermissionFromRole(roleId, permissionId) {
    try {
      // Verificar se a associação existe nos dados iniciais
      const existsInInitial = Object.values(initialRolePermissions).some(
        rp => rp.roleId === roleId &amp;&amp; rp.permissionId === permissionId
      );
      
      if (existsInInitial) {
        logger.warn('Não é possível remover associações definidas nos dados iniciais', {
          service: 'rolePermissionModel',
          function: 'removePermissionFromRole',
          roleId,
          permissionId
        });
        
        // Se a associação também existir no banco, remover a versão do banco
        const dbAssociations = await dbServiceRolePermission
          .where('roleId', '==', roleId)
          .where('permissionId', '==', permissionId)
          .get();
        
        if (!dbAssociations.empty) {
          logger.info('Removendo associação duplicada do banco', {
            service: 'rolePermissionModel',
            function: 'removePermissionFromRole',
            roleId,
            permissionId
          });
          
          // Remover duplicatas do banco
          const batch = getFirestore().batch();
          dbAssociations.docs.forEach(doc => {
            batch.delete(doc.ref);
          });
          await batch.commit();
        }
        
        // Informar que não foi possível remover a associação inicial
        return false;
      }
      
      // Buscar a associação no banco
      const associations = await dbServiceRolePermission
        .where('roleId', '==', roleId)
        .where('permissionId', '==', permissionId)
        .get();
      
      if (associations.empty) {
        logger.warn('Associação entre role e permissão não encontrada no banco', { 
          service: 'rolePermissionModel', 
          function: 'removePermissionFromRole', 
          roleId,
          permissionId
        });
        return false;
      }
      
      // Excluir todas as associações encontradas (normalmente deve ser apenas uma)
      const batch = getFirestore().batch();
      
      associations.docs.forEach(doc => {
        batch.delete(doc.ref);
      });
      
      await batch.commit();
      
      logger.info('Permissão removida da role com sucesso', { 
        service: 'rolePermissionModel', 
        function: 'removePermissionFromRole', 
        roleId,
        permissionId,
        count: associations.size
      });
      
      return true;
    } catch (error) {
      logger.error('Erro ao remover permissão da role', { 
        service: 'rolePermissionModel', 
        function: 'removePermissionFromRole', 
        roleId,
        permissionId,
        error: error.message 
      });
      throw error;
    }
  }

  /**
   * Obtém todas as permissões associadas a uma role
   * @param {string} roleId - ID da role
   * @returns {Promise&lt;Array&lt;Permission>>} - Lista de permissões
   */
  static async getRolePermissions(roleId) {
    try {
      // Obter todas as associações para esta role (do banco e dados iniciais)
      const rolePermissions = await this.getByRoleId(roleId);
      
      if (rolePermissions.length === 0) {
        return [];
      }
      
      // Buscar os detalhes de cada permissão
      const permissionIds = rolePermissions.map(rp => rp.permissionId);
      const permissions = [];
      
      // Buscar cada permissão individualmente
      for (const permissionId of permissionIds) {
        try {
          const permission = await Permission.getById(permissionId);
          permissions.push(permission);
        } catch (error) {
          logger.warn(`Permissão ${permissionId} não encontrada`, {
            service: 'rolePermissionModel',
            function: 'getRolePermissions',
            roleId,
            permissionId
          });
          // Continuar com as outras permissões mesmo se uma falhar
        }
      }
      
      logger.info('Permissões da role obtidas com sucesso', { 
        service: 'rolePermissionModel', 
        function: 'getRolePermissions', 
        roleId,
        count: permissions.length
      });
      
      return permissions;
    } catch (error) {
      logger.error('Erro ao obter permissões da role', { 
        service: 'rolePermissionModel', 
        function: 'getRolePermissions', 
        roleId,
        error: error.message 
      });
      throw error;
    }
  }

  /**
   * Obtém todas as roles com uma permissão específica
   * @param {string} permissionId - ID da permissão
   * @returns {Promise&lt;Array&lt;Role>>} - Lista de roles
   */
  static async getPermissionRoles(permissionId) {
    try {
      // Obter todas as associações para esta permissão
      const rolePermissions = await this.getByPermissionId(permissionId);
      
      if (rolePermissions.length === 0) {
        return [];
      }
      
      // Buscar os detalhes de cada role
      const roleIds = rolePermissions.map(rp => rp.roleId);
      const roles = [];
      
      // Buscar cada role individualmente
      for (const roleId of roleIds) {
        try {
          const role = await Role.getById(roleId);
          roles.push(role);
        } catch (error) {
          logger.warn(`Role ${roleId} não encontrada`, {
            service: 'rolePermissionModel',
            function: 'getPermissionRoles',
            permissionId,
            roleId
          });
          // Continuar com as outras roles mesmo se uma falhar
        }
      }
      
      logger.info('Roles da permissão obtidas com sucesso', { 
        service: 'rolePermissionModel', 
        function: 'getPermissionRoles', 
        permissionId,
        count: roles.length
      });
      
      return roles;
    } catch (error) {
      logger.error('Erro ao obter roles da permissão', { 
        service: 'rolePermissionModel', 
        function: 'getPermissionRoles', 
        permissionId,
        error: error.message 
      });
      throw error;
    }
  }

  /**
   * Verifica se uma role tem uma permissão específica
   * @param {string} roleId - ID da role
   * @param {string} permissionId - ID da permissão
   * @returns {Promise&lt;boolean>} - Se a role tem a permissão
   */
  static async hasPermission(roleId, permissionId) {
    try {
      // Verificar nos dados iniciais
      const existsInInitial = Object.values(initialRolePermissions).some(
        rp => rp.roleId === roleId &amp;&amp; rp.permissionId === permissionId
      );
      
      if (existsInInitial) {
        return true;
      }
      
      // Verificar no banco
      const associations = await dbServiceRolePermission
        .where('roleId', '==', roleId)
        .where('permissionId', '==', permissionId)
        .limit(1)
        .get();
      
      return !associations.empty;
    } catch (error) {
      logger.error('Erro ao verificar se role tem permissão', {
        service: 'rolePermissionModel',
        function: 'hasPermission',
        roleId,
        permissionId,
        error: error.message
      });
      return false;
    }
  }
}

module.exports = RolePermission;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-controllers_authController.html">controllers/authController</a></li><li><a href="module-controllers_blacklistController.html">controllers/blacklistController</a></li><li><a href="module-controllers_connectionsController.html">controllers/connectionsController</a></li><li><a href="module-controllers_emailController.html">controllers/emailController</a></li><li><a href="module-controllers_groupsCaixinhaController.html">controllers/groupsCaixinhaController</a></li><li><a href="module-controllers_interestsController.html">controllers/interestsController</a></li><li><a href="module-controllers_inviteController.html">controllers/inviteController</a></li><li><a href="module-controllers_notificationsController.html">controllers/notificationsController</a></li><li><a href="module-controllers_openaiController.html">controllers/openaiController</a></li><li><a href="module-controllers_permissionController.html">controllers/permissionController</a></li><li><a href="module-controllers_postController.html">controllers/postController</a></li><li><a href="module-controllers_recaptchaController.html">controllers/recaptchaController</a></li><li><a href="module-controllers_rifaController.html">controllers/rifaController</a></li><li><a href="module-controllers_roleController.html">controllers/roleController</a></li><li><a href="module-controllers_userController.html">controllers/userController</a></li><li><a href="module-controllers_videoSdkController.html">controllers/videoSdkController</a></li><li><a href="module-services_CaixinhaInviteService.html">services/CaixinhaInviteService</a></li><li><a href="module-services_SupportService.html">services/SupportService</a></li><li><a href="module-services_authService.html">services/authService</a></li><li><a href="module-services_blacklistService.html">services/blacklistService</a></li><li><a href="module-services_caixinhaService.html">services/caixinhaService</a></li><li><a href="module-services_connectionService.html">services/connectionService</a></li><li><a href="module-services_contribuicaoService.html">services/contribuicaoService</a></li><li><a href="module-services_disputeService.html">services/disputeService</a></li><li><a href="module-services_emailService.html">services/emailService</a></li><li><a href="module-services_encryptionService.html">services/encryptionService</a></li><li><a href="module-services_inviteService.html">services/inviteService</a></li><li><a href="module-services_ja3Service.html">services/ja3Service</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-services_emailService-emailService.html">emailService</a></li></ul><h3>Classes</h3><ul><li><a href="AppError.html">AppError</a></li><li><a href="AuthenticationError.html">AuthenticationError</a></li><li><a href="ConflictError.html">ConflictError</a></li><li><a href="ForbiddenError.html">ForbiddenError</a></li><li><a href="HttpError.html">HttpError</a></li><li><a href="Invite.html">Invite</a></li><li><a href="Message.html">Message</a></li><li><a href="NotFoundError.html">NotFoundError</a></li><li><a href="PermissionService.html">PermissionService</a></li><li><a href="RateLimitError.html">RateLimitError</a></li><li><a href="RoleService.html">RoleService</a></li><li><a href="ServiceError.html">ServiceError</a></li><li><a href="UserRoleService.html">UserRoleService</a></li><li><a href="ValidationError.html">ValidationError</a></li></ul><h3>Global</h3><ul><li><a href="global.html#_calculateSimilarity">_calculateSimilarity</a></li><li><a href="global.html#_findPendingAccountsForPayment">_findPendingAccountsForPayment</a></li><li><a href="global.html#_levenshteinDistance">_levenshteinDistance</a></li><li><a href="global.html#_processPaymentNotification">_processPaymentNotification</a></li><li><a href="global.html#_validatePayerData">_validatePayerData</a></li><li><a href="global.html#_verifyWebhookSignature">_verifyWebhookSignature</a></li><li><a href="global.html#acceptInvite">acceptInvite</a></li><li><a href="global.html#activateBankAccount">activateBankAccount</a></li><li><a href="global.html#addContribuicao">addContribuicao</a></li><li><a href="global.html#approveLoan">approveLoan</a></li><li><a href="global.html#assignRoleToUser">assignRoleToUser</a></li><li><a href="global.html#asyncHandler">asyncHandler</a></li><li><a href="global.html#broadcastUserStatus">broadcastUserStatus</a></li><li><a href="global.html#cancelDispute">cancelDispute</a></li><li><a href="global.html#cancelInvite">cancelInvite</a></li><li><a href="global.html#cancelarRifa">cancelarRifa</a></li><li><a href="global.html#checkAuthService">checkAuthService</a></li><li><a href="global.html#checkBankValidation">checkBankValidation</a></li><li><a href="global.html#checkCaixinhaService">checkCaixinhaService</a></li><li><a href="global.html#checkConnectionsService">checkConnectionsService</a></li><li><a href="global.html#checkDatabaseConnection">checkDatabaseConnection</a></li><li><a href="global.html#checkDependencies">checkDependencies</a></li><li><a href="global.html#checkDisputeRequirement">checkDisputeRequirement</a></li><li><a href="global.html#checkExpiredInvites">checkExpiredInvites</a></li><li><a href="global.html#checkFirebaseConnection">checkFirebaseConnection</a></li><li><a href="global.html#checkFullSystem">checkFullSystem</a></li><li><a href="global.html#checkInterestsService">checkInterestsService</a></li><li><a href="global.html#checkNotificationsService">checkNotificationsService</a></li><li><a href="global.html#checkPermission">checkPermission</a></li><li><a href="global.html#checkPublicServices">checkPublicServices</a></li><li><a href="global.html#checkRole">checkRole</a></li><li><a href="global.html#checkServerResources">checkServerResources</a></li><li><a href="global.html#checkServices">checkServices</a></li><li><a href="global.html#checkSpecificService">checkSpecificService</a></li><li><a href="global.html#checkUserService">checkUserService</a></li><li><a href="global.html#confirmBankValidation">confirmBankValidation</a></li><li><a href="global.html#createBankAccount">createBankAccount</a></li><li><a href="global.html#createCaixinha">createCaixinha</a></li><li><a href="global.html#createDispute">createDispute</a></li><li><a href="global.html#createHealthResponse">createHealthResponse</a></li><li><a href="global.html#createRifa">createRifa</a></li><li><a href="global.html#createRuleChangeDispute">createRuleChangeDispute</a></li><li><a href="global.html#deleteBankAccount">deleteBankAccount</a></li><li><a href="global.html#deleteCaixinha">deleteCaixinha</a></li><li><a href="global.html#dependenciesHealthCheck">dependenciesHealthCheck</a></li><li><a href="global.html#detectDeviceType">detectDeviceType</a></li><li><a href="global.html#determineOverallStatus">determineOverallStatus</a></li><li><a href="global.html#evaluateThreshold">evaluateThreshold</a></li><li><a href="global.html#extractToken">extractToken</a></li><li><a href="global.html#formatErrorForHealthResponse">formatErrorForHealthResponse</a></li><li><a href="global.html#fullSystemHealthCheck">fullSystemHealthCheck</a></li><li><a href="global.html#generateValidationCode">generateValidationCode</a></li><li><a href="global.html#generateValidationPix">generateValidationPix</a></li><li><a href="global.html#gerarComprovante">gerarComprovante</a></li><li><a href="global.html#gerarComprovanteSorteio">gerarComprovanteSorteio</a></li><li><a href="global.html#gerarHashVerificacao">gerarHashVerificacao</a></li><li><a href="global.html#gerarRelatorio">gerarRelatorio</a></li><li><a href="global.html#gerenciarEmprestimos">gerenciarEmprestimos</a></li><li><a href="global.html#gerenciarMembros">gerenciarMembros</a></li><li><a href="global.html#getAccountHistory">getAccountHistory</a></li><li><a href="global.html#getAllBankAccounts">getAllBankAccounts</a></li><li><a href="global.html#getAllRifasByCaixinha">getAllRifasByCaixinha</a></li><li><a href="global.html#getCaixinhaById">getCaixinhaById</a></li><li><a href="global.html#getCaixinhaInvites">getCaixinhaInvites</a></li><li><a href="global.html#getCaixinhas">getCaixinhas</a></li><li><a href="global.html#getDisputeById">getDisputeById</a></li><li><a href="global.html#getDisputeVoteInfo">getDisputeVoteInfo</a></li><li><a href="global.html#getDisputes">getDisputes</a></li><li><a href="global.html#getInvitationsByType">getInvitationsByType</a></li><li><a href="global.html#getInviteDetails">getInviteDetails</a></li><li><a href="global.html#getLoanById">getLoanById</a></li><li><a href="global.html#getLoanStats">getLoanStats</a></li><li><a href="global.html#getLoans">getLoans</a></li><li><a href="global.html#getMembers">getMembers</a></li><li><a href="global.html#getReceivedInvites">getReceivedInvites</a></li><li><a href="global.html#getRifaById">getRifaById</a></li><li><a href="global.html#getSentInvites">getSentInvites</a></li><li><a href="global.html#getUserRoles">getUserRoles</a></li><li><a href="global.html#getUserStatus">getUserStatus</a></li><li><a href="global.html#healthCheck">healthCheck</a></li><li><a href="global.html#initBankValidation">initBankValidation</a></li><li><a href="global.html#initializeFirstAdmin">initializeFirstAdmin</a></li><li><a href="global.html#initializeLocalStorage">initializeLocalStorage</a></li><li><a href="global.html#injectRoleInfo">injectRoleInfo</a></li><li><a href="global.html#inviteByEmail">inviteByEmail</a></li><li><a href="global.html#inviteExistingMember">inviteExistingMember</a></li><li><a href="global.html#isAdmin">isAdmin</a></li><li><a href="global.html#isUserOnline">isUserOnline</a></li><li><a href="global.html#listCollections">listCollections</a></li><li><a href="global.html#logServiceStatus">logServiceStatus</a></li><li><a href="global.html#makePayment">makePayment</a></li><li><a href="global.html#mercadoPagoWebhook">mercadoPagoWebhook</a></li><li><a href="global.html#migrateAdminUsers">migrateAdminUsers</a></li><li><a href="global.html#migrateInvitesToNewStructure">migrateInvitesToNewStructure</a></li><li><a href="global.html#obterNumeroAleatorioNIST">obterNumeroAleatorioNIST</a></li><li><a href="global.html#obterNumeroAleatorioRandomOrg">obterNumeroAleatorioRandomOrg</a></li><li><a href="global.html#obterResultadoLoteria">obterResultadoLoteria</a></li><li><a href="global.html#optionalAuth">optionalAuth</a></li><li><a href="global.html#parseCookies">parseCookies</a></li><li><a href="global.html#publicHealthCheck">publicHealthCheck</a></li><li><a href="global.html#realizarSorteio">realizarSorteio</a></li><li><a href="global.html#registerMessageHandlers">registerMessageHandlers</a></li><li><a href="global.html#registerNotificationHandlers">registerNotificationHandlers</a></li><li><a href="global.html#registerPresenceHandlers">registerPresenceHandlers</a></li><li><a href="global.html#rejectInvite">rejectInvite</a></li><li><a href="global.html#rejectLoan">rejectLoan</a></li><li><a href="global.html#rejectUserRole">rejectUserRole</a></li><li><a href="global.html#removeRoleFromUser">removeRoleFromUser</a></li><li><a href="global.html#requestLoan">requestLoan</a></li><li><a href="global.html#resendInvite">resendInvite</a></li><li><a href="global.html#resendInviteEmail">resendInviteEmail</a></li><li><a href="global.html#sendAlertsIfNeeded">sendAlertsIfNeeded</a></li><li><a href="global.html#sendRealTimeNotification">sendRealTimeNotification</a></li><li><a href="global.html#serviceCheckers">serviceCheckers</a></li><li><a href="global.html#serviceHealthCheck">serviceHealthCheck</a></li><li><a href="global.html#setupActivityMonitor">setupActivityMonitor</a></li><li><a href="global.html#setupGracefulShutdown">setupGracefulShutdown</a></li><li><a href="global.html#setupHealthMonitoring">setupHealthMonitoring</a></li><li><a href="global.html#setupSystemMonitoring">setupSystemMonitoring</a></li><li><a href="global.html#socketAuthMiddleware">socketAuthMiddleware</a></li><li><a href="global.html#socketLoggingMiddleware">socketLoggingMiddleware</a></li><li><a href="global.html#updateBankAccount">updateBankAccount</a></li><li><a href="global.html#updateCaixinha">updateCaixinha</a></li><li><a href="global.html#updateRifa">updateRifa</a></li><li><a href="global.html#updateUserStatus">updateUserStatus</a></li><li><a href="global.html#validateAccount">validateAccount</a></li><li><a href="global.html#validateUserRole">validateUserRole</a></li><li><a href="global.html#venderBilhete">venderBilhete</a></li><li><a href="global.html#verificarAutenticidadeSorteio">verificarAutenticidadeSorteio</a></li><li><a href="global.html#verificarConfiguracoes">verificarConfiguracoes</a></li><li><a href="global.html#verificarIntegridade">verificarIntegridade</a></li><li><a href="global.html#voteOnDispute">voteOnDispute</a></li><li><a href="global.html#webhookLogger">webhookLogger</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Tue Jun 24 2025 14:11:53 GMT-0300 (Brasilia Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
